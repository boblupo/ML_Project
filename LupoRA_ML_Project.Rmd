---
author: "Robert A Lupo"
date: "February 23, 2016"
output: html_document
---
###Analysis of Subject Exercise Routine Effectiveness Using Barbells

####Executive Summary
The public is often bombarded by fitness regimes that promise maximum results in minimal time. Technology has allowed us to monitor over time the progress of individuals in a quantitative manner but unfortunately lacking a qualitative assessment. Using a weight lifting dataset highlighted at http://groupware.les.inf.puc-rio.br/har we attempt to design a predictive model as to the quality of a subject's movements in the lifting of barbells (weights).

The database contains a "classe" variable that associates a subject's movements with a category depicting the effectiveness of these movements using five different factors ranking "A" as correct and "B - E" as various incorrect motions. The model will be trained then asserted on a test sample of twenty cases supplied by the course manager via a hyperlink.

####Reproduceability: Datasets, R packages 

* Data sets   
    + Training set:  https://d396qusza40orc.cloudfront.net/predmachlearn/pml-training.csv  
    + Testing set:   https://d396qusza40orc.cloudfront.net/predmachlearn/pml-testing.csv
* R version 3.2.3 (2015-12-10)
* RStudio Version 0.99.489 - © 2009-2015 RStudio, Inc.
* Packages
    + caret (lattice, ggplot2)
    + rpart, randomforest


####Exploratory Analysis and Cleaning
* R Coding set as echo=FALSE unless indicated otherwise
* Import data sets / set unusable values to NA:
    + urlTrain <- "http://d396qusza40orc.cloudfront.net/predmachlearn/pml-training.csv"
    + urlTest  <- "http://d396qusza40orc.cloudfront.net/predmachlearn/pml-testing.csv"
    + training <- read.csv(url(UrlTrain), na.strings=c("NA","#DIV/0!",""))
    + testing  <- read.csv(url(UrlTest), na.strings=c("NA","#DIV/0!",""))
    
```{r, echo = FALSE}
urlTrain <- "http://d396qusza40orc.cloudfront.net/predmachlearn/pml-training.csv"
urlTest  <- "http://d396qusza40orc.cloudfront.net/predmachlearn/pml-testing.csv"
training <- read.csv(url(urlTrain), na.strings=c("NA","#DIV/0!",""))
testing  <- read.csv(url(urlTest), na.strings=c("NA","#DIV/0!",""))
```

* Compare data set dimensions:
    +  dim(testing)       [1]    20  160
    +  dim(training)      [1] 19622  160
```{r}
   dim(testing);dim(training)
```
    
* Remove columns (predictors) with NA values -  there are no 'NA's in "classe"! Check column count
* Prevent outliers and poorly represented predictor values from biasing cross validation model
    + inTraining[, colSums(is.na(inTraining)) == 0]
    + inValidation[, colSums(is.na(inValidation)) == 0]
    + testing[, colSums(is.na(testing)) == 0]      
    + ncols(inTraining) == ncols(testing)         [1] TRUE
```{r, echo =FALSE}
    inTraining[, colSums(is.na(inTraining)) == 0]
    inValidation[, colSums(is.na(inValidation)) == 0]
    testing[, colSums(is.na(testing)) == 0]      
    ncols(inTraining) == ncols(testing)         
    ```

    
* Visual inspection determines variables 1-6 are not applicable to the analysis
    + these values during the exploratory phase of analysis when you select your model    
    + inTraining   <- inTraining[, -(1:6)]
    + inValidation <- inValidation[, -(1:6)]
    + testing      <- testing[, -(1:6)]
 
```{r, echo=FALSE} 
    + inTraining   <- inTraining[, -(1:6)]
    + inValidation <- inValidation[, -(1:6)]
    + testing      <- testing[, -(1:6)]
```    

####Cross validation
    + inTraining   <- createDataPartition(y=inTraining$classe, p=0.7, list=FALSE)
    + inTraining   <- training[inTrain, ]; 
    + inValidation <- training[-inTrain, ]    

```{r, echo =FALSE}
    inTraining   <- createDataPartition(y=training$classe, p=0.7, list=FALSE)
    inTraining   <- training[inTrain, ]; 
    inValidation <- training[-inTrain, ]    
```


####Preprocessing
Principal Components Analysis

####Machine Learning Model for prediction

#####Random Forest (rf)

#####Generalized Linear Model (glm)


####Analysis of predicted Results

Out-of-sample error - missclassified observations/total observations

ConfusionMatrix


```{r}

```

You can also embed plots, for example:

```{r, echo=FALSE}

```
